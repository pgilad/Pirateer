_gaq.push(["_trackPageview"]),app.controller("MainCtrl",["$scope","$timeout","ptStorageService",function(a,b,c){a.targetUrl="",a.selectedCaching={},a.cachingOptions=[{displayName:"Comprehensive",value:0,speedLabel:"label label-warning",properties:["Searches names from scratch","Gets the most updated ratings","Slowest"]},{displayName:"Name Cache",value:1,speedLabel:"label label-success",properties:["Uses cached movie names to speed search (Recommended)","Gets the most updated ratings","Fast"]},{displayName:"Name & Ratings Cache",value:2,speedLabel:"label label-info",properties:["Caches names & ratings to speed search","Rating might not be up to date","Blazing Fast"]}],c.getCacheOptionsFromStorage(function(){a.$apply(function(){a.selectedCaching.value=c.getCacheOptionsAsValue()})});var d=function(){window.open(a.targetUrl)};a.cacheCleared=!1,a.clearCache=function(c){c.preventDefault(),c.stopPropagation(),chrome.storage.local.clear(function(){a.$apply(function(){a.cacheCleared=!0}),b(function(){a.cacheCleared=!1},1e3)})},a.onChangeSelectedCaching=function(a){c.setCacheOptionsByValue(a)},a.searchIMDBFromPopup=function(c){c&&(a.targetUrl="http://thepiratebay.sx/search/"+encodeURIComponent(c)+"/0/99/0",_gaq?(_gaq.push(["_set","hitCallback",d]),_gaq.push(["_trackEvent","Search","fromPopup",c])):d(),b(d,500))}}]);